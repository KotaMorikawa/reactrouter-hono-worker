# Core Routing Structure and Layout Tests

このディレクトリには、タスク6.4「Create Core Routing Structure and Layout」のテストファイルが含まれています。

## テストカバレッジ

### 1. レイアウトコンポーネントテスト

#### `main-layout.test.tsx`
- MainLayoutコンポーネントの描画テスト
- 認証状態による表示の違いテスト
- ナビゲーションコンポーネントの統合テスト
- HTMLレイアウト構造のテスト

#### `authenticated-layout.test.tsx`
- AuthenticatedLayoutコンポーネントの描画テスト
- ProtectedRouteコンポーネントとの統合テスト
- 認証レイアウト固有の機能テスト

### 2. ナビゲーションテスト

#### `navigation.test.tsx`
- ナビゲーションリンクの表示テスト
- 認証状態による表示の切り替えテスト
- モバイルメニューの動作テスト
- ログアウト機能のテスト
- undefinedな認証コンテキストの処理テスト

### 3. ページコンポーネントテスト

#### `profile.test.tsx`
- プロフィールページの描画テスト
- ユーザー情報の表示テスト
- データが存在しない場合の処理テスト
- アカウント統計セクションのテスト

#### `settings.test.tsx`
- 設定ページの描画テスト
- 各設定セクション（通知、セキュリティ、表示、一般）のテスト
- 設定項目とアクションボタンのテスト
- ページ構造とスタイリングのテスト

### 4. ルーティングテスト

#### `routes.test.tsx`
- ルート設定の正確性テスト
- パブリックルートとプロテクトルートの分離テスト
- 各ルートパスの存在確認テスト
- ルート間の重複チェックテスト

#### `routing-integration.test.tsx`
- ルーティング統合テスト
- ナビゲーションフローのテスト
- 無効なルートの処理テスト
- レイアウト構造の一貫性テスト
- セマンティックHTMLの使用テスト

## テスト実行方法

```bash
# 全テストを実行
npm test

# 特定のテストファイルを実行
npm test -- main-layout.test.tsx

# ウォッチモードでテストを実行
npm test -- --watch

# カバレッジレポートを生成
npm test -- --coverage
```

## 期待される結果

これらのテストは以下の要素が正しく実装されていることを確認します：

1. **レイアウト構造**
   - MainLayoutとAuthenticatedLayoutが適切に機能する
   - 認証状態によるレイアウトの切り替えが正常に動作する

2. **ルーティング**
   - パブリックルート（/、/login、/register）が正しく設定されている
   - プロテクトルート（/dashboard、/profile、/settings）が正しく設定されている
   - ネストしたレイアウト構造が機能している

3. **ナビゲーション**
   - 認証状態に応じた適切なナビゲーション項目の表示
   - モバイルレスポンシブなナビゲーション
   - ログアウト機能の動作

4. **ページコンポーネント**
   - 新しく追加されたプロフィールページと設定ページの正常な描画
   - ユーザーデータの適切な表示
   - エラーハンドリング

5. **統合**
   - 全てのコンポーネントが正しく統合されている
   - React Routerとの適切な連携
   - 型安全性の確保

## 注意事項

- テストはVitest環境で実行されることを想定しています
- @testing-library/reactとjest-domセットアップが必要です
- モックは適切に設定されている必要があります
